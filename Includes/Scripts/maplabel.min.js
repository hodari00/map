function MapLabel(t){this.set("fontFamily","sans-serif"),this.set("fontSize",12),this.set("fontColor","#000000"),this.set("strokeWeight",4),this.set("strokeColor","#ffffff"),this.set("align","center"),this.set("zIndex",1e3),this.setValues(t)}MapLabel.prototype=new google.maps.OverlayView,window.MapLabel=MapLabel,MapLabel.prototype.changed=function(t){switch(t){case"fontFamily":case"fontSize":case"fontColor":case"strokeWeight":case"strokeColor":case"align":case"text":return this.drawCanvas_();case"maxZoom":case"minZoom":case"position":return this.draw()}},MapLabel.prototype.drawCanvas_=function(){var t=this.canvas_;if(t){var e=t.style;e.zIndex=this.get("zIndex");var i=t.getContext("2d");i.clearRect(0,0,t.width,t.height),i.strokeStyle=this.get("strokeColor"),i.fillStyle=this.get("fontColor"),i.font="600 "+this.get("fontSize")+"px "+this.get("fontFamily");var a=Number(this.get("strokeWeight")),o=this.get("text");if(o){a&&(i.lineWidth=a,i.strokeText(o,a,a)),i.fillText(o,a,a);var s=i.measureText(o),n=s.width+a;e.marginLeft=this.getMarginLeft_(n)+"px",e.marginTop="-0.4em"}}},MapLabel.prototype.onAdd=function(){var t=this.canvas_=document.createElement("canvas"),e=t.style;e.position="absolute";var i=t.getContext("2d");i.lineJoin="round",i.textBaseline="top",this.drawCanvas_();var a=this.getPanes();a&&a.mapPane.appendChild(t)},MapLabel.prototype.onAdd=MapLabel.prototype.onAdd,MapLabel.prototype.getMarginLeft_=function(t){switch(this.get("align")){case"left":return 0;case"right":return-t}return t/-2},MapLabel.prototype.draw=function(){var t=this.getProjection();if(t&&this.canvas_){var e=this.get("position");if(e){var i=t.fromLatLngToDivPixel(e),a=this.canvas_.style,o=4,s=0,n=0;4>o?this.set("fontSize","0"):6>o?(this.set("align",this.get("orientation")),n=-3,OffsetLevel=o*o*.75,s="right"==this.get("align")?-OffsetLevel:OffsetLevel,"right"!=this.get("align")&&this.set("align","left")):"AARHUS"!=this.get("text")&&(n=10,this.set("align","center")),"AARHUS"==this.get("text")&&(this.set("fontSize","16"),this.set("align","right"),OffsetLevel=o*o*.6,s="right"==this.get("align")?-OffsetLevel:OffsetLevel,n-=3),a.top=i.y+n+"px",a.left=i.x+s+"px",a.visibility=this.getVisible_()}}},MapLabel.prototype.draw=MapLabel.prototype.draw,MapLabel.prototype.getVisible_=function(){var t=this.get("minZoom"),e=this.get("maxZoom");if(void 0===t&&void 0===e)return"";var i=this.getMap();if(!i)return"";var a=i.getZoom();return t>a||a>e?"hidden":""},MapLabel.prototype.onRemove=function(){var t=this.canvas_;t&&t.parentNode&&t.parentNode.removeChild(t)},MapLabel.prototype.onRemove=MapLabel.prototype.onRemove;